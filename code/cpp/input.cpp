//=============================================================================
// 入力の基底クラス
//=============================================================================

//=============================================================================
// インクルードファイル
//=============================================================================
#include "main.h"
#include "input.h"

//=============================================================================
// グローバル変数
//=============================================================================
CInput* CInput::Instance = NULL;	//インスタンス

//=============================================================================
// クラスの生成
//=============================================================================
CInput::CInput()
{
	m_Input = NULL;		//DirectInputオブジェクトへのポインタの初期化
	m_Keyboard = NULL;
	m_Mouse = NULL;
}

//=============================================================================
// クラスの破棄
//=============================================================================
CInput::~CInput()
{

}

//=============================================================================
// 入力の初期化
//=============================================================================
HRESULT CInput::Init( HINSTANCE hInstance, HWND hWnd )
{
	//DirectInputオブジェクトの生成
	if (m_Input == NULL) if (FAILED(DirectInput8Create(hInstance, DIRECTINPUT_VERSION, IID_IDirectInput8, (void**)&m_Input, NULL))) return E_FAIL;
	m_Keyboard = Create<CInputKeyboard>(&m_Input, hWnd);
	m_Mouse = Create<CInputMouse>(&m_Input, hWnd);
	return S_OK;
}

//=============================================================================
// 入力の解放
//=============================================================================
void CInput::Uninit( void )
{
	ResourceRelease(m_Input);	//デバイスの解放
	m_Keyboard->Uninit();
	m_Mouse->Uninit();
}
//=============================================================================
// 入力の更新
//=============================================================================
void CInput::Update( void )
{
	m_Keyboard->Update();
	m_Mouse->Update();
}
