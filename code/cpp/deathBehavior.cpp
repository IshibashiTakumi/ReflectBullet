//=============================================================================
// 死の行動
//=============================================================================

//=============================================================================
// インクルードファイル
//=============================================================================
#include "main.h"
#include "deathBehavior.h"
#include "renderer.h"
#include "objectManager.h"
#include "object.h"
#include "aiState.h"
#include "aiStateStop.h"
#include "aiStateMovement.h"
#include "aiStateAttack.h"
#include "moveBehavior.h"
#include "sound.h"

//=============================================================================
// グローバル変数
//=============================================================================

//=============================================================================
// クラスの生成
//=============================================================================
CDeathBehavior::CDeathBehavior() : CBehavior()
{

}

//=============================================================================
// クラスの破棄
//=============================================================================
CDeathBehavior::~CDeathBehavior()
{

}

//=============================================================================
// 初期化
//=============================================================================
void CDeathBehavior::Init(void)
{

}

//=============================================================================
// 解放
//=============================================================================
void CDeathBehavior::Uninit(void)
{

}

//=============================================================================
// 更新
//=============================================================================
void CDeathBehavior::Update(void)
{
	D3DXVECTOR3 Rot = m_Object->m_Transform->Rot;
	D3DXVECTOR3 Scl = m_Object->m_Transform->Scl;

	Rot.y += 0.8f;
	Scl -= D3DXVECTOR3(0.05f, 0.05f, 0.05f);

	m_Object->m_Transform->Rot = Rot;
	m_Object->m_Transform->Scl = Scl;

	if (Scl.x <= 0 && Scl.y <= 0 && Scl.z <= 0)
	{
		CSound::GetInstance()->PlaySound(SOUND_LABEL_SE_000);
		m_Object->Destroy();
	}
}

//=============================================================================
// 当たった瞬間
//=============================================================================
void CDeathBehavior::CollisionTrigger(CObject * Object)
{
	
}

//=============================================================================
// 当たりつづけている
//=============================================================================
void CDeathBehavior::CollisionEnter(CObject * Object)
{

}

//=============================================================================
// 離れた瞬間
void CDeathBehavior::CollisionRelease(CObject * Object)
{

}
